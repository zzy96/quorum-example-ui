<h1>Current Storage: <span id="currentValue">...</span></h1>

<label>New Value:</label><br>
<input id="newValue" type="text"><br>
<button onclick="update();">Update</button>

<script>
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
       // Typical action to be performed when the document is ready:
       console.log(xhttp.responseText)
       document.getElementById("currentValue").innerHTML = JSON.parse(xhttp.responseText).value
    }
  }
  xhttp.open("GET", "http://localhost:5000/value", true)
  xhttp.send()

  function update(){
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
         // Typical action to be performed when the document is ready:
         location.reload()
      }
    }
    xhttp.open("GET", "http://localhost:5000/" + document.getElementById("newValue").value, true)
    xhttp.send()
  }
</script>
